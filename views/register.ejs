<%- include('partials/header') %>

  <div class="jumbotron centered">
    <div class="container mt-5 centered welcome-container">
      <h1 class="gruppo-regular">Register</h1>

      <div class="row">
        <div class="col-sm-8">
          <div class="card">
            <div class="card-body">

              <!-- Makes POST request to /register route -->
              <form action="/register" method="POST">
                <div class="form-group">
                  <label for="email">Email</label>
                  <input id="email" type="email" class="form-control" name="username">
                </div>
                <div class="form-group">
                  <label for="password">Password</label>
                  <input id="password" type="password" class="form-control" name="password">
                </div>
                <button disabled type="submit" class="btn btn-dark">Register</button>
                <a class="btn btn-danger close-btn" href="/" role="button">Exit</a>
              </form>

            </div>
          </div>
        </div>

        <!-- OAuth register -->
        <div class="col-sm-4">
          <div class="card social-block">
            <div class="card-body">
              <a class="btn btn-block" href="/auth/google" role="button">
                <i class="fab fa-google"></i>
                Sign Up with Google
              </a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <%- include('partials/footer', {year: year}) %>


    <script>
      const input1 = document.querySelector("#email");
      const input2 = document.querySelector("#password");
      const btn = document.querySelector("button");

      // same validation handler for both inputs
      input1.addEventListener("input", validate);
      input2.addEventListener("input", validate);

      function validate() {
        // check that neither input is empty
        if (input1.value === "" || input2.value === "") {
          btn.setAttribute("disabled", "disabled");
        } else {
          btn.removeAttribute("disabled");
        }
      }    
    </script>